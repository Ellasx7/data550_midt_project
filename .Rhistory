position = "stack",
stat = "identity") +
facet_grid(~ specie, switch = "x") +
theme(strip.placement = "outside",
strip.background = element_rect(fill = NA, color = "white"),
panel.spacing = unit(-.01,"cm")),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "stacked_bar_plot2.png")),
)
ggsave(
plot = ggplot(table_one, aes(x = Disease, y = Count, fill = SEX)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Disease", y = "Count", fill = "Gender") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "stacked_bar_plot.png")),
width = 10,
height = 6
)
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/stacked_bar_plot.png")
)
ggplot(table_one) +
geom_bar(aes(x = SEX, y = value, fill = Disease),
position = "stack",
stat = "identity") +
facet_grid(~ specie, switch = "x") +
theme(strip.placement = "outside",
strip.background = element_rect(fill = NA, color = "white"),
panel.spacing = unit(-.01,"cm"))
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/stacked_bar_plot.png")
)
pacman::p_load(
here
)
here::i_am(
"covid_sub.csv"
)
absolute_path<-here::here("covid_sub.csv")
data_clean<-read.csv(absolute_path,header = TRUE)
absolute_path<-here::here("covid_sub.csv")
data_clean<-read.csv(absolute_path,header = TRUE)
summary(data_clean)
data_clean<-read.csv(absolute_path,header = TRUE)
saveRDS(
data_clean,"data_clean.rds"
)
library(dplyr)
absolute_path<-here::here("covid_sub.csv")
data<-read.csv(absolute_path,header = TRUE)
pacman::p_load(
here
)
here::i_am(
"covid_sub.csv"
)
library(dplyr)
absolute_path<-here::here("covid_sub.csv")
data<-read.csv(absolute_path,header = TRUE)
saveRDS(
data_clean,"data_clean.rds"
)
pacman::p_load(
here
)
here::i_am(
"covid_sub.csv"
)
setwd("~/Downloads/Midterm/Midterm_project")
here::i_am(
"covid_sub.csv"
)
library(dplyr)
absolute_path<-here::here("covid_sub.csv")
data<-read.csv(absolute_path,header = TRUE)
data_clean<- data %>%
mutate(CLASSIFIED =  ifelse(data$CLASIFFICATION_FINAL >= 1 &
data$CLASIFFICATION_FINAL <=3,
"Positive", "Inconclusive")
)
saveRDS(
data_clean,"data_clean.rds"
)
here::i_am(
"subproject1/code/data_clean.R"
)
# Create the contingency table
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
library(dplyr)
library(tidyr)
library(ggplot2)
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
here::i_am(
"subproject1/report.Rmd"
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
ggsave(
plot = ggplot(table_one, aes(x = Disease, y = Count, fill = SEX)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Disease", y = "Count", fill = "Gender") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "bar_plot.png")),
width = 10,
height = 6
)
icu_gender <- table(data_clean$CLASSIFIED, data_clean$SEX)
saveRDS(
icu_gender,
file = here::here("subproject1/output/descriptive_output", "icu_gender.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
data_long <- data_clean %>%
select(SEX, AGE, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -c(SEX, AGE), names_to = "Disease", values_to = "Status") %>%
filter(Status == 1) %>%
select(-Status)
gplot(data_long, aes(x = SEX, y = AGE, fill = Disease)) +
geom_bar(stat = "identity", position = "stack", width = 0.7, color = "black") +
labs(title = "Age Distribution by Gender and Disease",
x = "Gender", y = "Age", fill = "Disease") +
scale_fill_brewer(palette = "Set3") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_text(size = 12),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10))
gplot(data_long, aes(x = SEX, y = STatus, fill = Disease)) +
geom_bar(stat = "identity", position = "stack", width = 0.7, color = "black") +
labs(title ="Gender and Disease",
x = "Gender", y = "Status", fill = "Disease") +
scale_fill_brewer(palette = "Set3") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_text(size = 12),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10))
ggplot(data_long, aes(x = SEX, y = Status, fill = Disease)) +
geom_bar(stat = "identity", position = "stack", width = 0.7, color = "black") +
labs(title ="Gender and Disease",
x = "Gender", y = "Status", fill = "Disease") +
scale_fill_brewer(palette = "Set3") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_text(size = 12),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10))
ggsave(
plot2 = ggplot(table_one, aes(x = SEX, y = Count, fill = Disease)) +
geom_bar(stat = "identity", position = "stack", width = 0.7, color = "black") +
labs(title = "Disease Distribution by Gender",
x = "Gender", y = "Count", fill = "Disease") +
scale_fill_brewer(palette = "Set3") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_text(size = 12),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "stacked_bar_chart.png")),
width = 10,
height = 6
)
ggsave(
plot2 = ggplot(table_one, aes(x = SEX, y = Count, fill = Disease)) +
geom_bar(stat = "identity", position = "stack", width = 0.7, color = "black") +
labs(title = "Disease Distribution by Gender",
x = "Gender", y = "Count", fill = "Disease") +
scale_fill_brewer(palette = "Set3") +
theme_minimal() +
theme(plot.title = element_text(hjust = 0.5, size = 16, face = "bold"),
axis.title = element_text(size = 12),
legend.title = element_text(size = 12),
legend.text = element_text(size = 10)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "stacked_bar_chart.png")),
width = 10,
height = 6
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
here::i_am(
"subproject1/code/data_clean.R"
)
pacman::p_load(
here
)
here::i_am(
"covid_sub.csv"
)
library(dplyr)
absolute_path<-here::here("covid_sub.csv")
data<-read.csv(absolute_path,header = TRUE)
data_clean<- data %>%
mutate(CLASSIFIED =  ifelse(data$CLASIFFICATION_FINAL >= 1 &
data$CLASIFFICATION_FINAL <=3,
"Positive", "Inconclusive")
)
saveRDS(
data_clean,"data_clean.rds"
)
here::i_am(
"subproject1/code/data_clean.R"
)
here::i_am(
"subproject1/code/descriptive_analysis.R"
)
#Please fill this section with data cleaning
library(dplyr)
library(tidyr)
library(ggplot2)
# Create the contingency table
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
#Contingency Table 2
icu_gender <- table(data_clean$CLASSIFIED, data_clean$SEX)
saveRDS(
icu_gender,
file = here::here("subproject1/output/descriptive_output", "icu_gender.rds")
)
# Create the bar plot and save it
ggsave(
plot = ggplot(table_one, aes(x = Disease, y = Count, fill = SEX)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Disease", y = "Count", fill = "Gender") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "bar_plot.png")),
width = 10,
height = 6
)
here::i_am(
"subproject1/report.Rmd"
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/bar_plot.png")
)
here::i_am(
"subproject1/code/data_clean.R"
)
here::i_am(
"subproject1/code/descriptive_analysis.R"
)
#Please fill this section with data cleaning
library(dplyr)
library(tidyr)
library(ggplot2)
# Create the contingency table
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
#Contingency Table 2
icu_gender <- table(data_clean$CLASSIFIED, data_clean$SEX)
saveRDS(
icu_gender,
file = here::here("subproject1/output/descriptive_output", "icu_gender.rds")
)
# Create the bar plot and save it
ggsave(
plot = ggplot(table_one, aes(x = Disease, y = Count, fill = SEX)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Disease", y = "Count", fill = "Gender") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "bar_plot.png")),
width = 10,
height = 6
)
here::i_am(
"subproject1/report.Rmd"
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
here::i_am(
"subproject1/report.Rmd"
)
readRDS(
here::here("subproject1/output/descriptive_output/bar_plot.png")
)
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
setwd("~/Downloads/Midterm/ngunmen_Midterm_project")
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
here::i_am(
"subproject1/code/descriptive_analysis.R"
)
library(dplyr)
library(tidyr)
library(ggplot2)
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
icu_gender <- table(data_clean$CLASSIFIED, data_clean$SEX)
saveRDS(
icu_gender,
file = here::here("subproject1/output/descriptive_output", "icu_gender.rds")
)
ggsave(
plot = ggplot(table_one, aes(x = Disease, y = Count, fill = SEX)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Disease", y = "Count", fill = "Gender") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "bar_plot.png")),
width = 10,
height = 6
)
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/scatterplot.png")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/scatterplot.png")
)
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/bar_plot.png")
)
pacman::p_load(
here
)
here::i_am(
"covid_sub.csv"
)
library(dplyr)
absolute_path<-here::here("covid_sub.csv")
data<-read.csv(absolute_path,header = TRUE)
data_clean<- data %>%
mutate(CLASSIFIED =  ifelse(data$CLASIFFICATION_FINAL >= 1 &
data$CLASIFFICATION_FINAL <=3,
"Positive", "Inconclusive")
)
saveRDS(
data_clean,"data_clean.rds"
)
here::i_am(
"subproject1/code/descriptive_analysis.R"
)
#Please fill this section with data cleaning
library(dplyr)
library(tidyr)
library(ggplot2)
# Create the contingency table
table_one <- data_clean %>%
select(SEX, PNEUMONIA, DIABETES, COPD, ASTHMA, INMSUPR, HIPERTENSION,
CARDIOVASCULAR, RENAL_CHRONIC, OTHER_DISEASE, OBESITY) %>%
pivot_longer(cols = -SEX, names_to = "Disease", values_to = "Present") %>%
group_by(SEX, Disease, Present) %>%
summarise(Count = n()) %>%
ungroup()
saveRDS(
table_one,
file = here::here("subproject1/output/descriptive_output", "table_one.rds")
)
#Contingency Table 2
icu_gender <- table(data_clean$CLASSIFIED, data_clean$SEX)
saveRDS(
icu_gender,
file = here::here("subproject1/output/descriptive_output", "icu_gender.rds")
)
# Create the bar plot and save it
ggsave(
plot = ggplot(table_one, aes(x = Disease, y = Count, fill = SEX)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Disease", y = "Count", fill = "Gender") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1)),
device = "png",
file.path(here::here("subproject1/output/descriptive_output", "bar_plot.png")),
width = 10,
height = 6
)
here::i_am(
"subproject1/report.Rmd"
)
readRDS(
file = here::here("subproject1/output/descriptive_output/table_one.rds")
)
readRDS(
file = here::here("subproject1/output/descriptive_output/icu_gender.rds")
)
#| fig.align = "center",
#| out.width = "600px"
knitr::include_graphics(
here::here("subproject1/output/descriptive_output/bar_plot.png")
)
